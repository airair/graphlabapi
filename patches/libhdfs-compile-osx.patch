diff -rupN hadoop-1.0.1_old/src/c++/libhdfs/hdfsJniHelper.c hadoop-1.0.1/src/c++/libhdfs/hdfsJniHelper.c
--- hadoop-1.0.1_old/src/c++/libhdfs/hdfsJniHelper.c	2012-04-03 11:46:00.000000000 -0400
+++ hadoop-1.0.1/src/c++/libhdfs/hdfsJniHelper.c	2012-04-03 11:54:18.000000000 -0400
@@ -15,7 +15,9 @@
  */
 
 #include <string.h> 
+#if !defined(__APPLE__)
 #include <error.h>
+#endif /* __APPLE__ */
 #include "hdfsJniHelper.h"
 
 static pthread_mutex_t hdfsHashMutex = PTHREAD_MUTEX_INITIALIZER;
